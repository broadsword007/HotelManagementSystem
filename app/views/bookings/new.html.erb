<h1>New Booking</h1>

<%= render 'form', booking: @booking %>

<%= link_to 'Back', bookings_path %>

<div class="form-page-content">
  <div class="row container">
    <div class="col s12 form-column">
      <div class="card signup-form-container-card">
        <div class="card-content">
          <span class="card-title">Add New Booking</span>
          <p class="notice"><%= notice %></p>
          <p class="alert"><%= alert %></p>
          <p>Please fillout the following fields to create a new booking</p>
          <%= form_for(@booking) do |f| %>
              <div class="row">
                <div class="col s12 m12 l12">
                  <ul>
                    <% @booking.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                    <% end %>
                  </ul>
                </div>
                <div class="input-field col s12 m12 l12">
                  <select name="booking[room_category_id]">
                    <option value="" disabled selected>Choose room category</option>
                    <% @categories.each do |cat| %>
                        <option value="<%= cat.id %>"><%= cat.name %></option>
                    <% end %>
                  </select>
                  <label>Room Category</label>
                </div>
                <div class="input-field col s12 m12 l12">
                  <select name="booking[customer_id]">
                    <option value="" disabled selected>Choose customer</option>
                    <% @users.each do |user| %>
                        <% if user.role.id!=0 %>
                          <option value="<%= user.id %>"><%= user.firstname %></option>
                        <% end %>
                    <% end %>
                  </select>
                  <label>Customer</label>
                </div>

                <div class="input-field col s6 m6 l6">
                  <%= f.label 'From' %>
                  <%= f.text_field :from, autofocus: true %>
                </div>
                <div class="input-field col s12 m12 l12">
                  <%= f.label 'To' %>
                  <%= f.text_field :to, autofocus: true%>
                </div>

                <div class="col s6 m6 l6">
                  <button class="btn waves-effect waves-light form-button-submit" type="submit" name="action">Create Booking
                    <i class="material-icons right">send</i>
                  </button>
                </div>
              </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
    $(document).ready(function(){
        $('select').material_select();
    });
</script>

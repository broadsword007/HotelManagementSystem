<%= stylesheet_link_tag 'admin_panel' %>
<div class="admin-page-content container">
  <div class="row">
    <div class="col s12 m12 l12 top-buttons-bar">
      <div class="table-data-button">
        <a class="waves-effect waves-light btn red" rel="nofollow" data-method="delete" href="<%= destroy_user_session_path %>"><i class="material-icons left">send</i>Signout</a>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m12 l12">
      <div class="admin-content-section row">
        <div class="admin-content-section-header col s12 m12 l12">
          <p>Users</p>
        </div>
        <div class="admin-content-section-desc col s12 m12 l12">
          <p>Here you can edit or delete current users</p>
        </div>
        <div class="admin-content-section-content  col s12 m12 l12">
          <table>
            <thead>
            <tr>
              <th>Name</th>
              <th>Creation Date</th>
            </tr>
            </thead>

            <tbody>
            <% @users.each do |user| %>
                <tr>
                  <td><%= user.firstname+" "+user.lastname %></td>
                  <td><%= user.created_at %></td>
                  <td>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn green" href="<%= edit_user_registration_path(user) %>"><i class="material-icons left">edit</i>Edit</a>
                    </div>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn red" confirm="Are you sure you want to destroy your account?" rel="nofollow" data-method="delete" href="<%= user_registration_path(user) %>"><i class="material-icons left">delete</i>Delete</a>
                    </div>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col s12 m12 l12">
      <div class="admin-content-section row">
        <div class="admin-content-section-header col s12 m12 l12">
          <p>Rooms</p>
        </div>
        <div class="admin-content-section-desc col s12 m12 l12">
          <p>Here you can edit or delete current rooms</p>
        </div>
        <div class="admin-content-section-content  col s12 m12 l12">
          <table>
            <thead>
            <tr>
              <th>Room #</th>
              <th>Description</th>
              <th>Category</th>
              <th>Price</th>
              <th>
                <div class="table-data-button">
                <a class="waves-effect waves-light btn" href="<%= new_room_path %>"><i class="material-icons left">add</i>Add</a>
                </div>
              </th>
            </tr>
            </thead>

            <tbody>
            <% @rooms.each do |room| %>
                <tr>
                  <td><%= room.number %></td>
                  <td><%= room.description %></td>
                  <td><%= room.room_category.name %></td>
                  <td><%= room.price %></td>
                  <td>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn green" href="<%= edit_room_path(room) %>"><i class="material-icons left">edit</i>Edit</a>
                    </div>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn red" confirm="Are you sure you want to delete this hotel?" rel="nofollow" data-method="delete" href="<%= room_path(room) %>"><i class="material-icons left">delete</i>Delete</a>
                    </div>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="col s12 m12 l12">
      <div class="admin-content-section row">
        <div class="admin-content-section-header col s12 m12 l12">
          <p>Room Categories</p>
        </div>
        <div class="admin-content-section-desc col s12 m12 l12">
          <p>Here you can edit or delete room categories</p>
        </div>
        <div class="admin-content-section-content  col s12 m12 l12">
          <table>
            <thead>
            <tr>
              <th>Name #</th>
              <th>Description</th>
              <th>Price</th>
              <th>
                <div class="table-data-button">
                  <a class="waves-effect waves-light btn" href="<%= new_room_category_path %>"><i class="material-icons left">add</i>Add</a>
                </div>
              </th>
            </tr>
            </thead>

            <tbody>
            <% @categories.each do |cat| %>
                <tr>
                  <td><%= cat.name %></td>
                  <td><%= cat.description %></td>
                  <td><%= cat.rate %></td>
                  <td>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn green" href="<%= edit_room_category_path(cat) %>"><i class="material-icons left">edit</i>Edit</a>
                    </div>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn red" confirm="Are you sure you want to delete this hotel?" rel="nofollow" data-method="delete" href="<%= room_category_path(cat) %>"><i class="material-icons left">delete</i>Delete</a>
                    </div>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="col s12 m12 l12">
      <div class="admin-content-section row">
        <div class="admin-content-section-header col s12 m12 l12">
          <p>Room Bookings</p>
        </div>
        <div class="admin-content-section-desc col s12 m12 l12">
          <p>Here you can edit or delete room bookings</p>
        </div>
        <div class="admin-content-section-content  col s12 m12 l12">
          <table>
            <thead>
            <tr>
              <th>Customer</th>
              <th>Room#</th>
              <th>Arrival</th>
              <th>Departure</th>
              <th>
                <div class="table-data-button">
                  <a class="waves-effect waves-light btn" href="<%= new_booking_path %>"><i class="material-icons left">add</i>Add</a>
                </div>
              </th>
            </tr>
            </thead>

            <tbody>
            <% @bookings.each do |booking| %>
                <tr>
                  <td><%= booking.user.firstname %></td>
                  <td><%= booking.room.number %></td>
                  <td><%= booking.from %></td>
                  <td><%= booking.to %></td>
                  <td>
                    <% if booking.hasCheckedOut %>
                      <div class="table-data-button">
                        <a class="waves-effect waves-light btn red" confirm="Are you sure you want to delete this booking?" rel="nofollow" data-method="delete" href="<%= booking_path(booking) %>"><i class="material-icons left">delete</i>Delete</a>
                      </div>
                    <% else %>
                        <div class="table-data-button">
                          <a class="waves-effect waves-light btn green" href="<%= edit_booking_path(booking) %>"><i class="material-icons left">edit</i>Edit</a>
                        </div>
                        <div class="table-data-button">
                          <a class="waves-effect waves-light btn green" href="<%= checkout_booking_path(booking) %>"><i class="material-icons left">send</i>Checkout</a>
                        </div>
                    <% end %>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="col s12 m12 l12">
      <div class="admin-content-section row">
        <div class="admin-content-section-header col s12 m12 l12">
          <p>Comments</p>
        </div>
        <div class="admin-content-section-desc col s12 m12 l12">
          <p>Here you can edit or delete comments</p>
        </div>
        <div class="admin-content-section-content  col s12 m12 l12">
          <table>
            <thead>
            <tr>
              <th>Title</th>
              <th>Content</th>
              <th>Author</th>
              <th>Rating</th>
              <th>
              </th>
            </tr>
            </thead>

            <tbody>
            <% @comments.each do |comment| %>
                <tr>
                  <td><%= comment.title %></td>
                  <td><%= comment.content %></td>
                  <td><%= comment.user.firstname %></td>
                  <td><%= comment.rating %></td>
                  <td>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn green" href="<%= edit_comment_path(comment) %>"><i class="material-icons left">edit</i>Edit</a>
                    </div>
                    <div class="table-data-button">
                      <a class="waves-effect waves-light btn red" confirm="Are you sure you want to delete this comment?" rel="nofollow" data-method="delete" href="<%= comment_path(comment) %>"><i class="material-icons left">delete</i>Delete</a>
                    </div>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>